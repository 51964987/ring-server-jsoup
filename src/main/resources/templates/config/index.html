<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="/common/common-head :: onloadHead('数据源管理')"></head>
<link rel="stylesheet" type="text/css" th:href="@{/ring-ui/css/ring-ui.css}" />
<body>

<header  th:replace="/common/common-header :: onloadHeader('/config/*')"></header>

<nav class="breadcrumb">
	<div class="container">
		<i class="Hui-iconfont">&#xe67f;</i>
		<a class="c-primary">首页</a>
		<span class="c-gray en">&gt;</span>
		<a>数据源管理</a>
	</div>
</nav>

<div class="wap-container">
	<div class="container">
		<div class="row clearfix cases-list clearfix mt-10">
			<form id="form_page"  method="POST" >
			<div class="item col-xs-12 col-sm-6 col-md-4 col-lg-2 mb-5" style="padding-right: 0px">
				<input type="text" style="width: 100%" name="enName" placeholder=" 输入标题模糊查询" class="input-text">
			</div>
			<div class="item col-xs-12 col-sm-6 col-md-4 col-lg-3 mb-5">
				<button class="btn btn-success" type="submit"><i class="Hui-iconfont">&#xe665;</i> 搜索数据源</button>
				<button class="btn btn-success" type="button" id="addBtn"><i class="Hui-iconfont">&#xe600;</i> 添加数据源</button>
			</div>
			</form>
		</div>
		<div class="row clearfix cases-list clearfix mb-10">
			<div class="item col-xs-12 col-sm-12 col-md-12 col-lg-12">
				<table class="table table-border table-bordered table-bg table-hover table-sort" style="width:100%">
					<thead>
						<tr class="text-c">
							<th data-mDataProp="enName">数据源标识</th>
							<th data-mDataProp="cnName">数据源名称</th>
							<th data-mDataProp="domain">数据源URL</th>
							<th data-mDataProp="oper">操作</th>
						</tr>
					</thead>
					<tbody><tr class="odd"><td valign="top" colspan="8" class="dataTables_empty">表中数据为空</td></tr></tbody>
				</table>
			</div>
		</div>
	</div>
</div>

<footer th:replace="/common/common-footer :: onloadFooter"></footer>

<!--普通弹出层-->
<div class="modal fade middle" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content radius">
			<div class="modal-header">
				<!-- <h3 class="modal-title">对话框标题</h3> -->
				<nav>
					<div class="container">
						<i class="Hui-iconfont">&#xe67f;</i>
						<a class="c-primary">首页</a>
						<span class="c-gray">&gt;</span>
						<a>数据源管理</a>
						<span class="c-gray en">&gt;</span>
						<a id="opertext">添加</a>
					</div>
				</nav>
				<a class="close" data-dismiss="modal" aria-hidden="true" href="javascript:void();">×</a>
			</div>
			<form action="index/save" method="post" class="form form-horizontal responsive" id="demoform">
			<input type="hidden" name="oper" id="oper" />
			<div class="modal-body">
					<div class="row cl">
						<label class="form-label col-xs-3">源系统标识：</label>
						<div class="formControls col-xs-8">
							<input type="text" class="input-text" placeholder="4~16个字符，字母" name="enName" autocomplete="off">
						</div>
					</div>
					<div class="row cl">
						<label class="form-label col-xs-3">源系统名称：</label>
						<div class="formControls col-xs-8">
							<input type="text" class="input-text" placeholder="4~16个字符，字母/中文/数字/下划线" name="cnName" autocomplete="off">
						</div>
					</div>
			</div>
			<div class="modal-footer">
				<button class="btn btn-primary" type="submit">保存</button>
				<button class="btn" data-dismiss="modal" aria-hidden="true">关闭</button>
			</div>
			</form>
		</div>
	</div>
</div>

<div th:replace="/common/common-js :: onloadJS"></div>
<div th:replace="/common/common-dataTables :: onloadDataTables('#form_page','.table-sort','/index/list')"></div>
<script type="text/javascript" th:src="@{/lib/jquery.validation/1.14.0/jquery.validate.min.js}"></script>
<script type="text/javascript" th:src="@{/lib/jquery.validation/1.14.0/validate-methods.js}"></script>
<script type="text/javascript" th:src="@{/lib/jquery.validation/1.14.0/messages_zh.min.js}"></script>
<script type="text/javascript">
	$(function(){
		$.extend(Table.prototype,{
			showModalCallback: function(aData){
				alert("ddd");
			}
		});
		$("#addBtn").click(function(){table.showModal();});
		$("#demoform").validate({
			rules:{
				enName:{
					required:true,
					minlength:4,
					maxlength:16
				},
				cnName:{
					required:true,
					minlength:4,
					maxlength:16
				}
			},
			onkeyup:false,
			focusCleanup:true,
			success:"valid",
			submitHandler:function(form){
				$(form).ajaxSubmit({
					success:function(data){
						$(".modal").modal("hide");
						table.fnDraw(false);
					},
					error:function(xhr, textStatus, error){
						alert(xhr.responseText);
					}
				});
			}
		});
	});
</script>
</body>
</html>