<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8">
<meta name="renderer" content="webkit|ie-comp|ie-stand">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
<!--[if lt IE 9]>
<script type="text/javascript" src="/lib/html5shiv.js"></script>
<script type="text/javascript" src="/lib/respond.min.js"></script>
<![endif]-->
<link rel="stylesheet" type="text/css" href="/h-ui/css/H-ui.min.css" />
<link rel="stylesheet" type="text/css" href="/lib/Hui-iconfont/1.0.8/iconfont.min.css" />
<!--[if lt IE 9]>
<link href="/h-ui/css/H-ui.ie.css" rel="stylesheet" type="text/css" />
<![endif]-->
<!--[if IE 6]>
<script type="text/javascript" src="/lib/DD_belatedPNG_0.0.8a-min.js" ></script>
<script>DD_belatedPNG.fix('*');</script>
<![endif]-->
<style type="text/css">
.ui-sortable .panel-header{ cursor:move}

div.dataTables_length {
    padding-top:10px;
    padding-left:5px;
} 
div.dataTables_filter {
    float: right;
} 
div.dataTables_info {
    float: left;
} 
div.dataTables_paginate {
    float: right;
}
table tr td:last-child{text-align: center}
</style>
<title>Hi，H-ui v3.1</title>
<meta name="keywords" content="关键词,5个左右,单个8汉字以内">
<meta name="description" content="网站描述，字数尽量空制在80个汉字，160个字符以内！">
</head>
<body ontouchstart>
<div class="sideBox">
	<ul class="nav navbar-nav pt-20">
		<li><a href="/about.html">登录/注册</a></li>
		<li><a href="/jiansuo.html">技术检索</a></li>
		<li><a href="/about.html">关于我们</a></li>
		<li><a href="/#">联系我们</a></li>
		<li><a href="/#">隐私保护</a></li>
		<li><a href="/#">免责声明</a></li>
		<li><a href="/#">支付方式</a></li>
	</ul>
</div>
<div class="containBox">
    <div class="containBox-bg"></div>
	<div th:replace="/common/common-header :: onloadHeader('/page-list')"></div>
	<div class="wap-container">
		<nav class="breadcrumb" style="background: #f5f5f5">
			<div class="container">
				<i class="Hui-iconfont">&#xe67f;</i>
				<a href="//" class="c-primary">首页</a>
				<span class="c-gray en">&gt;</span>
				<a href="/#">列表</a>
			</div>
		</nav>
		<div class="container">
			<div class="text-l mt-20">
				<span class="select-box" style="width: 120px">
					<select class="select" size="1" id="source" name="source">
						<option value="">选择数据来源</option>
					</select>
				</span>
				<span class="select-box" style="width: 120px">
					<select class="select" size="1" id="fid" name="fid">
						<option value="" selected>选择模块</option>
					</select>
				</span>
				<span class="select-box" style="width: 120px">
					<select class="select" size="1" name="server">
						<option value="1" selected>本地数据服务器</option>
						<option value="2">来源数据服务器</option>
					</select>
				</span>
				<input type="text" name="title" placeholder=" 输入标题模糊查询" style="width:250px" class="input-text">
				<button class="btn btn-success"  type="submit" onClick="fnSearch()"><i class="Hui-iconfont">&#xe665;</i> 搜索列表</button>
			</div>
			<div class="mt-20">
				<table class="table table-border table-bordered table-bg table-hover table-sort">
					<thead>
						<tr class="text-c">
							<th width="40%">标题</th>
							<th>作者</th>
							<th>发布日期</th>
							<th>点击量</th>
							<th>访问地址</th>
							<th>批次日期</th>
							<th>操作</th>
						</tr>
					</thead>
				</table>
			</div>				
		</div>
		<footer class="footer" style="margin-top: 50px">
			<div class="container">
				<p>Copyright &copy;2013-2017 H-ui.net All Rights Reserved.</p>
			</div>
		</footer>
	</div>
</div>
<script type="text/javascript" src="/lib/jquery/1.9.1/jquery.min.js"></script>
<script type="text/javascript" src="/lib/jquery-ui/1.9.1/jquery-ui.min.js"></script>
<script type="text/javascript" src="/h-ui/js/H-ui.js"></script>
<script type="text/javascript" src="/lib/datatables/1.10.0/jquery.dataTables.min.js"></script>
<script type="text/javascript" th:inline="javascript">
/*搜索*/
function fnSearch(){
	$('.table-sort').dataTable({
		"bPaginate" : true,
	    "bStateSave" : false,     
	    "bScrollCollapse" : true,   
	    "bLengthChange" : false,   
	    "bFilter" : false,   
	    "bSort" : false,   
	    "bInfo" : true,   
	    "bAutoWidth" : true,  
	    "bJQueryUI" : false,  
	    "bDestroy" : true,  
	    "bProcessing" : true,  
	    "bServerSide": true,
	    "sServerMethod":"POST",
		 "sAjaxSource" : "list",
		 "sDom":"<\"H\">t<\"F\"ifl>p",
		 "aoColumns" : [
			  	{'mDataProp':'title'},
		  	{'mDataProp':'author'},
		  	{'mDataProp':'createDate'},
		  	{'mDataProp':'clickNum'},
		  	{'mDataProp':'url'},
		  	{'mDataProp':'ts'},
		  	{'mDataProp':'oper'}          
		 ],
         fnServerData:function(sSource,aoData,fnCallback){
			aoData.push({"name":"source","value":$("[name='source']").val()});
			aoData.push({"name":"title","value":$("[name='title']").val()});
			aoData.push({"name":"fid","value":$("[name='fid']").val()});
			aoData.push({"name":"modelUrl","value":$("#fid option:selected").attr("data-url")});
			aoData.push({"name":"server","value":$("[name='server']").val()});
			$.ajax({
				"dataType":"json",
				"type":"POST",
				"url":sSource,
				"data":aoData,
				"success":fnCallback
			});
         },
         fnRowCallback: function (nRow, aData, iDisplayIndex, iDisplayIndexFull) {
        	 //。。。
         }  
	}).fnDraw(true);
}
$(document).ready(function(){
	$('.table-sort').dataTable({
		"bFilter" : false,
		"bSort" : false,  
		"bLengthChange" : false
	});
	var _source = $("#source").html("");
	$("<option>")
	.attr({"value":""})
	.text("选择数据来源")
	.appendTo(_source);
	$.post(/*[[@{/index/change}]]*/,function(data){
		$.each(data,function(i,json){
			$("<option>")
			.attr({"value":json.enName})
			.text(json.cnName)
			.appendTo(_source);
		});
	});
	
	$("#source").bind("change",function(){
		var _fid = $("#fid").html("");
		$("<option>")
		.attr({"value":""})
		.text("选择模块")
		.appendTo(_fid);
		$.post(/*[[@{/model/change}]]*/,{"source":$("#source").val()},function(data){
			$.each(data,function(i,json){
				$("<option>")
				.attr({"value":json.model,"data-url":json.modelUrl})
				.text(json.modelName)
				.appendTo(_fid);
			});
		});
	});
});
</script>
</body>
</html>
<!--H-ui前端框架提供前端技术支持 h-ui.net @2017-01-01 -->